<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>エラー処理</title>
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-base.css" />
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-medium.css" />

 </head>
 <body class="docs"><div class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <ul class="nav" style="width: 100%">
      <li style="float: left;"><a href="migration52.newconf.html">« 新しい INI 設定項目</a></li>
      <li style="float: right;"><a href="migration52.other.html">その他の機能向上 »</a></li>
    </ul>
  </div>
</div>
<div id="breadcrumbs" class="clearfix">
  <ul class="breadcrumbs-container">
    <li><a href="index.html">PHP Manual</a></li>
    <li><a href="migration52.html">PHP 5.1.x から PHP 5.2.x への移行</a></li>
    <li>エラー処理</li>
  </ul>
</div>
<div id="layout">
  <div id="layout-content"><div id="migration52.errorrep" class="section">
  <h2 class="title">エラー処理</h2>
  <p class="para">
   これまで <strong><code>E_ERROR</code></strong> となっていた内容のうちのいくつかについて、
   ユーザー定義のエラーハンドラで処理できるようになりました。これは
   <a href="errorfunc.constants.html" class="link"><strong><code>E_RECOVERABLE_ERROR</code></strong></a>
   で表され、ハンドラを作成しなかった場合は、
   <strong><code>E_ERROR</code></strong> と同様に振る舞います。
   この型のエラーは、ログには
   <em>Catchable fatal error</em> と記録されます。
  </p>
  <p class="para">
   この変更によって、
   <a href="errorfunc.configuration.html#ini.error-reporting" class="link">error_reporting</a> の定数
   <strong><code>E_ALL</code></strong> の値は 6143 となりました。
   以前は、この値は 2047 でした。PHP の定数は PHP の外部では使用できないので、
   外部でこの整数値を指定していることもあるでしょう。その場合は値を変更する必要があります。
   たとえば error_reporting の設定を
   <a href="apache.configuration.html" class="link">httpd.conf</a> あるいは
   <var class="filename">.htaccess</var> で行っている場合は、値を適切に変更する必要があります。
   また、PHP スクリプト内で定数ではなく値自体を指定している場合も同様です。
  </p>
  <p class="para">
   この変更の副作用として、
   <a href="errorfunc.configuration.html#ini.track-errors" class="link">track_errors</a> が On
   の場合にエラーメッセージが重複してしまうことがあるようになりました。
   これを防ぐため、エラーハンドラで
   <var class="varname"><var class="varname"><a href="reserved.variables.phperrormsg.html" class="classname">$php_errormsg</a></var></var>
   を設定した際には <strong><code>FALSE</code></strong> を返さなければならないようになりました。
   これにより、さまざまなレベルのメッセージをより精密に制御できるようになります。
  </p>
 </div></div></div></body></html>